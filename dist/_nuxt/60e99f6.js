(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{351:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var o=n(342);o.a.apps.length?o.a.app():o.a.initializeApp({apiKey:"AIzaSyDAT5LbLXv_DiDVnmH6mhxo955Cn4Wy-sc",authDomain:"gifucourseapp.firebaseapp.com",projectId:"gifucourseapp",storageBucket:"gifucourseapp.appspot.com",messagingSenderId:"413669099316",appId:"1:413669099316:web:de21839c3085f2ea378761",measurementId:"G-6M9BG7S1NR"});t.a=o.a;var r=o.a.firestore();o.a.storage()},424:function(e,t,n){"use strict";n.r(t);n(17),n(26),n(49);var o=n(351),r=(n(352),{data:function(){return{email:""}},methods:{googleAuth:function(){var e=this;Promise.resolve().then(this.setPersistence).then((function(){return new Promise((function(e,t){var n=new o.a.auth.GoogleAuthProvider;console.log("auth"),o.a.auth().signInWithPopup(n).then((function(t){console.log(t),e(t)})).catch((function(e){e.code,e.message,e.email,e.credential}))}))})).then((function(e){return new Promise((function(t,n){var o={},r=e.user;o.token=e.credential.accessToken,o.refreshToken=r.refreshToken,o.uid=r.uid,o.displayName=r.displayName,o.photoURL=r.photoURL,o.email=r.email,o.isNewUser=e.additionalUserInfo.isNewUser,o.providerId=e.additionalUserInfo.providerId,console.log(o),t(o)}))})).then((function(t){return e.writeCloudStore(t)})).then((function(t){return e.updateLogin(t.displayName,t.photoURL)}))},setPersistence:function(){return new Promise((function(e,t){o.a.auth().setPersistence(o.a.auth.Auth.Persistence.LOCAL).then((function(t){e()}))}))},writeCloudStore:function(e){var t=this;return new Promise((function(n,r){o.b.collection("v1").doc("users").collection("user").doc(e.uid).set({userId:e.uid,displayName:e.displayName,profileImageURL:e.photoURL},{merge:!0}).then((function(o){n(e),t.moveHomepage()}))}))},updateLogin:function(e){this.$store.commit("updateLogin",e)},moveHomepage:function(){this.$router.replace("/")}}}),c=n(69),l=n(97),h=n.n(l),d=n(167),m=n(335),f=n(161),v=n(373),component=Object(c.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",[t("div",{staticClass:"ma-5",attrs:{align:"center"}},[t("h1",[this._v("メールアドレス　ログイン")])]),this._v(" "),t("div",{staticClass:"text-center",attrs:{align:"center"}},[t("v-btn",{attrs:{color:"red ma-4 pa-5"},on:{click:this.googleAuth}},[t("v-row",{staticClass:"pa-5"},[t("v-icon",{staticClass:"white--text"},[this._v("\n          mdi-google\n        ")]),this._v(" "),t("h4",{staticClass:"white--text"},[this._v("\n          Googleでログイン\n        ")])],1)],1)],1)])}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:d.a,VContainer:m.a,VIcon:f.a,VRow:v.a})}}]);