(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{427:function(e,t,n){"use strict";n.r(t);n(41);var o=n(346),c=n.n(o),r={data:function(){return{message:"",course:null,isCourseFetched:!1,checkLoginMessage:"",commentData:null,isCommentFetched:!1,statusMessage:""}},methods:{getCourseURL:function(e){return"https://alss-portal.gifu-u.ac.jp/campusweb/slbssbdr.do?value(risyunen)=2020&value(semekikn)=1&value(kougicd)="+e+"&value(crclumcd)="},checkLogin:function(){this.$store.state.isLogin?this.checkLoginMessage="🤩ログインしています！":this.checkLoginMessage="ログインしていません！"},postComments:function(e,t){if(""==e)this.statusMessage="コメントを入力してください🥺",setTimeout(this.brankStatusMessage,3e3);else if(this.$store.state.isLogin){var n=this.$store.state.displayName;c.a.post("http://localhost:8000/api/v1/courses/create/comments",{course_id:t._id,comment:e,poster:n,serverTimeStamp:Date.now()}),this.statusMessage="Thank you! コメントを投稿できました！🎉",setTimeout(this.brankStatusMessage,3e3),this.message=""}else this.statusMessage="ログインしてください👀",setTimeout(this.brankStatusMessage,3e3)},brankStatusMessage:function(){this.statusMessage=""}},mounted:function(){var e=this;c.a.get("http://localhost:8000/api/v1/courses/latter/"+this.$route.params.id).then((function(t){console.log("Success to Fetch API"),console.log(t.data),e.course=t.data,e.isCourseFetched=!0})),c.a.get("http://localhost:8000/api/v1/courses/"+this.$route.params.id+"/comments").then((function(t){console.log("Fetch コメント"),console.log(t.data),e.commentData=t.data,console.log(e.commentData),e.isCommentFetched=!0}))}},l=n(69),v=n(97),h=n.n(v),m=n(167),_=n(363),d=n(335),f=n(333),k=n(423),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("h1",[e._v("\n    詳細\n  ")]),e._v(" "),n("v-card",{attrs:{color:"blue lighten-4"}},[e.isCourseFetched?n("div",{attrs:{align:"center"}},[n("div",{staticClass:"ma-4"},[n("h3",[e._v("講義名")]),e._v(" "),n("h1",[e._v("\n          "+e._s(e.course.lecture_title)+"\n        ")])]),e._v(" "),n("div",{staticClass:"ma-4"},[n("h3",[e._v("開講期間")]),e._v(" "),n("h2",[e._v("\n          "+e._s(e.course.lecture_season)+"\n        ")])]),e._v(" "),n("div",{staticClass:"ma-4"},[n("h3",[e._v("教員名")]),e._v(" "),n("h2",[e._v("\n          "+e._s(e.course.teacher_name)+"\n        ")])]),e._v(" "),n("div",{staticClass:"ma-4"},[n("v-btn",{attrs:{href:e.getCourseURL(e.course.lecture_code),text:"",large:"",rounded:"",color:"gray",outlined:""}},[e._v("\n          シラバス URL\n        ")])],1)]):e._e(),e._v(" "),n("v-spacer")],1),e._v(" "),n("v-spacer"),e._v(" "),n("div",{attrs:{align:"center"}},[n("h3",[e._v("みんなのコメント")]),e._v(" "),e.isCommentFetched?n("div",e._l(e.commentData,(function(t,o){return n("li",{key:o},[e._v("\n        "+e._s(t.comment)+"\n      ")])})),0):n("div",[n("h3",[e._v("コメントはありません。")])])]),e._v(" "),n("v-spacer"),e._v(" "),n("v-textarea",{staticClass:"ma-4",attrs:{label:"感想 [ex: 面白かった] [ex: 先生がずっと話している講義だった] [ex: 〇〇を改善してほしい]","auto-grow":"",outlined:"",rows:"1","row-height":"15"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),n("div",{attrs:{align:"center"}},[n("p",[e._v("個人を特定したコメント並びに、誹謗中傷は禁止させていただきます。")]),e._v(" "),n("p",[e._v("感想を送信するには、ログインが必要となります。")]),e._v(" "),n("v-btn",{attrs:{depressed:"",color:"blue"},on:{click:function(t){return e.postComments(e.message,e.course)}}},[e._v("\n      送信\n    ")]),e._v(" "),n("p",[e._v(e._s(e.checkLoginMessage))]),e._v(" "),n("h2",[e._v(e._s(e.statusMessage))])],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:m.a,VCard:_.a,VContainer:d.a,VSpacer:f.a,VTextarea:k.a})}}]);